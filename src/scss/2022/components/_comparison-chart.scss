@use "../tools/typography";
@use "../tools/media-queries" as *;

.cmp-comparison-chart {
  overflow-x: scroll;
  overflow-y: hidden;
  margin-left: -1.5rem;
  margin-right: -1.5rem;
  padding-bottom: 6rem;
  padding-left: 1.5rem;
  position: relative;

  @media (min-width: mq(lg)) {
    overflow: unset;
    margin: 0;
  }
  
  &__wrapper {
    position: relative;
    display: inline-flex;
    padding-right: 4rem;

    @media (min-width: mq(lg)) {
      display: flex;
    }
  }

  &__y-axis {
    background-color: var(--color-black);
    z-index: 300;
    position: sticky;
    top: 0;
    padding-bottom: 2%;
    left: 0;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    text-align: right;
    padding-right: var(--space-sm);
  }

  &__y-axis-item {
    @include typography.style("body-small");
  }

  &__y-axis-label {
    position: absolute;
    top: 0;
    bottom: 0;
    right: 100%;
    background-color: var(--color-black);
    writing-mode: vertical-lr;
    text-align: center;
    @include typography.style("body-details");
    
    @media (min-width: mq(lg)) {
      padding-right: var(--space-sm);
    }
  }

  &__x-axis {
    position: absolute;
    top: 100%;
    left: 2.4375rem;
    right: 4.1875rem;
    display: inline-flex;
    justify-content: space-between;
    @media (min-width: mq(lg)) {
      display: flex;
    }
  }

  &__x-axis-item {
    @include typography.style("body-small");
    text-align: center;
    flex: 0 0 6rem;
    width: 6rem;
    position: relative;

    &:first-child {
      margin-left: -3rem;
    }

    &:last-child {
      margin-right: -3rem;
    }
  }

  &__container {
    position: relative;
    line-height: 0.75;
    min-height: 30rem;
    aspect-ratio: 900 / 422;
    
    @media (min-width: mq(lg)) {
      min-height: 28rem;
      width: 100%;
    }

    &::before {
      content: '';
      display: block;
      position: absolute;
      z-index: 300;
      inset: 0;
      mix-blend-mode: hard-light;
      background: radial-gradient(10% 180% at 66.6% 50%, 
                                  hsla(var(--color-pink-1-val), 0.4) 5%, 10%,
                                  hsla(var(--color-pink-2-val), 0.3) 20%,
                                  hsla(var(--color-black-val), 0) 30%);
    }
  }
  
  &__svg {
    max-width: unset;
    min-height: 25rem;
    position: absolute;
    inset: 0 1.5rem 0 0;
  }
}
