@use "../tools/typography";
@use "../tools/svg" as *;
@use "../tools/color" as *;
@use "../tools/space" as *;
@use "../tools/media-queries" as *;

.section-header {
  padding: space('10vh') var(--space-limiter-margin);
  margin: 0 calc(var(--space-limiter-margin) * -1);
  position: relative;
  overflow: hidden;
  
  &::after {
    --max-size: 26rem;
    content: '';
    display: block;
    height: min(40vmin, var(--max-size));
    width: min(40vmin, var(--max-size));
    border: 1px solid hsla(var(--color-pink-1-val), 0.3);
    background: radial-gradient(circle at 200% 50%,
                                hsla(var(--color-pink-1-val), 0.5) 0%, 40%,
                                hsla(var(--color-pink-2-val), 0.5) 60%,
                                hsla(var(--color-black-val), 0) 95%)
                                no-repeat;
    mask-image: radial-gradient(circle at 200% 50%,
                                #000f 0%,
                                #000f 60%,
                                #0000 95%);
    position: absolute;
    top: calc(10vh + (var(--max-size) / 2));
    left: calc(50% + (var(--max-size) / 5));
    transform: rotate(-45deg);
    transform-origin: top left;
    pointer-events: none;
    mix-blend-mode: hard-light;
  }

  &__title {
    @include typography.style('heading-1');
    line-height: 1;
    position: relative;
    padding-top: var(--space-1xp);
    min-height: var(--space-2xl);
    display: grid;
    grid-template-columns: minmax(3rem, max-content) auto;
    align-items: end;
    gap: var(--space-sm);

    &::before {
      pointer-events: none;
      font-family: var(--font-text);
      @include typography.number('small');
      content: '0' attr(data-number);
      align-self: stretch; // stretches item within the parent grid
      display: inline-flex;
      place-items: start;
      padding-right: 2em; // scales the padding the fluid font size
      color: var(--color-gray);
      background: svg('<svg width="290" height="439"><path d="m287 2.327-284 435" stroke="#{color(dark)}" stroke-width="5"/></svg>') no-repeat top right / contain;
    }
  }
  
  p {
    @include typography.style('section-description');
  }
}
